<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Watch - Trending</title>
    <link rel="stylesheet" href="trending.css">
</head>
<body>

    <div class="top-bar">
        <h1 class="title">Game Watch</h1>
        <div class="nav-links">
            <a href="index.html">Home</a>
            <a href="trending.html">Trending</a>
        </div>
        <div class="search-container">
            <input type="text" id="search" placeholder="Search for a game..." autocomplete="off" />
            <div class="suggestions" id="suggestions"></div>
        </div>
    </div>

    <!-- Featured Section with Podium -->
    <div class="featured">
        <h2>Top Trending Games</h2>

        <!-- Podium Section -->
        <div class="podium">

            <a href="fortnite.html" class="podium-button">
                <div class="podium-item silver">
                    <img src="game2.png" alt="Fortnite">
                    <h2>2nd - Fortnite</h2>
                    <p>223M+ Monthly Players</p>
                </div>
            </a>

            <a href="minecraft.html" class="podium-button">
                <div class="podium-item gold">
                    <img src="game1.png" alt="Minecraft">
                    <h2>1st - Minecraft</h2>
                    <p>228M+ Monthly Players</p>
                </div>
            </a>

            <a href="roblox.html" class="podium-button">
                <div class="podium-item bronze">
                    <img src="game3.png" alt="Roblox">
                    <h2>3rd - Roblox</h2>
                    <p>205M+ Monthly Players</p>
                </div>
            </a>
        </div>

        <!-- Leaderboard Table -->
        <div class="leaderboard">
            <table>
                <thead>
                    <tr>
                        <th>Rank</th>
                        <th>Game Title</th>
                        <th>Monthly Players</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="clickable-row" data-href="counter-strike-2.html">
                        <td>4</td>
                        <td>Counter-Strike 2</td>
                        <td>65M+</td>
                    </tr>
                    <tr class="clickable-row" data-href="apex-legends.html">
                        <td>5</td>
                        <td>Apex Legends</td>
                        <td>64M+</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Footer -->
    <div class="footer">
        <p>&copy; 2025 Game Watch</p>
    </div>
      
    <script>
        const games = [
            { title: "Minecraft" },
            { title: "Fortnite" },
            { title: "Roblox" },
            { title: "Counter-Strike 2"},
            { title: "Apex Legends" },
        ];

        const searchInput = document.getElementById("search");
        const suggestionsContainer = document.getElementById("suggestions");
        let highlightedIndex = -1;

        searchInput.addEventListener("input", () => {
            const query = searchInput.value.toLowerCase();
            suggestionsContainer.innerHTML = "";
            highlightedIndex = -1;

            if (query.length === 0) {
                suggestionsContainer.style.display = "none";
                return;
            }

            const matches = games.filter(game => game.title.toLowerCase().includes(query));

            if (matches.length === 0) {
                suggestionsContainer.style.display = "none";
                return;
            }

            matches.forEach((game, index) => {
                const div = document.createElement("div");
                div.textContent = game.title;
                div.addEventListener("click", () => {
                    searchInput.value = game.title;
                    suggestionsContainer.innerHTML = "";
                    suggestionsContainer.style.display = "none";
                    window.location.href = `search.html?q=${encodeURIComponent(game.title)}`;
                });
                suggestionsContainer.appendChild(div);
            });
            suggestionsContainer.style.display = "block";
        });

        searchInput.addEventListener("keydown", (e) => {
            const suggestionDivs = suggestionsContainer.getElementsByTagName("div");

            if (e.key === "ArrowDown") {
                e.preventDefault();

                if (highlightedIndex < suggestionDivs.length - 1) {
                    highlightedIndex++;
                } else {
                    highlightedIndex = 0;
                }
                updateHighlight();
            } else if (e.key === "ArrowUp") {
                e.preventDefault();

                if (highlightedIndex > 0) {
                    highlightedIndex--;
                } else {
                    highlightedIndex = suggestionDivs.length - 1;
                }
                updateHighlight();
            } else if (e.key === "Enter") {
                e.preventDefault();

                if (highlightedIndex >= 0 && highlightedIndex < suggestionDivs.length) {
                    const selectedGameTitle = suggestionDivs[highlightedIndex].textContent;
                    searchInput.value = selectedGameTitle;
                    suggestionsContainer.innerHTML = "";
                    suggestionsContainer.style.display = "none";
                    window.location.href = `search.html?q=${encodeURIComponent(selectedGameTitle)}`;
                } else if (searchInput.value.trim() !== "") {
                    window.location.href = `search.html?q=${encodeURIComponent(searchInput.value)}`;
                }
            } else if (e.key === "Escape") {
                suggestionsContainer.innerHTML = "";
                suggestionsContainer.style.display = "none";
                highlightedIndex = -1;
            }
        });

        function updateHighlight() {
            const suggestionDivs = suggestionsContainer.getElementsByTagName("div");
            for (let i = 0; i < suggestionDivs.length; i++) {
                if (i === highlightedIndex) {
                    suggestionDivs[i].classList.add("highlighted");
                } else {
                    suggestionDivs[i].classList.remove("highlighted");
                }
            }
        }

        document.addEventListener("click", (e) => {
            if (!suggestionsContainer.contains(e.target) && e.target !== searchInput) {
                suggestionsContainer.style.display = "none";
                highlightedIndex = -1;
            }
        });

        document.querySelectorAll('.clickable-row').forEach(row => {
            row.addEventListener('click', () => {
                window.location.href = row.getAttribute('data-href');
            });
        });
    </script>
</body>
</html>


